"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[265],{8966:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var i=n(4165),s=n(5861),a=n(885),c=n(2791),l=n(4569),r=n.n(l),o=n(6871),d=n(8890),u=n.n(d),g=n(4270),h=n(4886),p=n.n(h),f=n.p+"static/media/unliked.c043405a3af2d27f1bc8.webp",m=n.p+"static/media/liked.641269d7a7523231bca1.webp",x=n(184),k=n(6854),v=function(){var e,t,n=(0,o.UO)().id,l=(0,c.useState)(),d=(0,a.Z)(l,2),h=d[0],v=d[1],j=(0,o.TH)(),w=(0,c.useState)(),N=(0,a.Z)(w,2),y=N[0],S=N[1],Z=(0,c.useState)(),b=(0,a.Z)(Z,2),I=b[0],M=b[1],P=(0,c.useState)(),z=(0,a.Z)(P,2),C=z[0],D=z[1];(0,c.useEffect)((function(){u()("html, body").animate({scrollTop:0},"fast");var e=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r().get("/news/allNews").then((function(e){v(e.data.find((function(e){return e.id+"-"+p()().transform(e.title).replace(/[^a-zA-Z\s]/g,"").replace(/\s+/g,"-").toLowerCase()===n})))})).catch((function(e){console.log(e)}));case 2:if(u()(".extendedNews").hide(),u()(".extendedNews").fadeIn("slow"),e.t0=j.pathname.includes("/read"),!e.t0){e.next=8;break}return e.next=8,r().get("https://api.ipify.org/").then((function(e){r().post("/like/checkIP",{clientIP:e.data,id:n.split("-")[0]}).then((function(e){S(e.data)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}));case 8:if(e.t1=j.pathname.includes("/read"),!e.t1){e.next=12;break}return e.next=12,r().get("https://api.ipify.org/").then((function(e){r().post("/views/post",{clientIP:e.data,id:n.split("-")[0]}).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}));case 12:if(e.t2=j.pathname.includes("/read"),!e.t2){e.next=16;break}return e.next=16,r().get("https://api.ipify.org/").then((function(e){r().post("/views/checkIP",{clientIP:e.data,id:n.split("-")[0]}).then((function(e){D(e.data)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}));case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n]),(0,c.useEffect)((function(){M(y&&-1===y||!1===y?(0,x.jsx)("img",{loading:"lazy",title:"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",onClick:H,className:"unliked",src:f}):(0,x.jsx)("img",{loading:"lazy",title:"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",className:"liked",src:m}))}),[y]);var H=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var t,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r().get("https://api.ipify.org/").then((function(e){r().post("/like/post",{clientIP:e.data,id:n}).catch((function(e){if(e)throw e}))})).catch((function(e){console.log(e)}));case 2:M((0,x.jsx)("img",{loading:"lazy",className:"liked",src:m})),u()(".likes .likeNum").html(null!==(t=h.likes)&&void 0!==t&&t.split(",").length?(null===(s=h.likes)||void 0===s?void 0:s.split(",").length)+1:+u()(".likes").val()+1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,x.jsxs)("div",{className:"extendedNews",children:[(0,x.jsxs)(g.Z,{children:[(0,x.jsx)("title",{children:h&&h.title+" - Legendary Football"}),(0,x.jsx)("meta",{name:"description",content:h&&h.meta_description}),(0,x.jsx)("meta",{name:"keywords",content:h&&h.meta_keywords})]}),(0,x.jsx)("section",{children:(0,x.jsxs)("div",{className:"container",children:[(0,x.jsx)("div",{className:"postWrap",children:(0,x.jsxs)("article",{children:[(0,x.jsx)("h1",{className:"pageName",children:h&&h.title}),(0,x.jsxs)("div",{className:"dateCategory",children:[(0,x.jsx)("ul",{children:(0,x.jsx)("li",{className:"category",children:h&&h.category})}),(0,x.jsx)("span",{className:"date",children:h&&function(e){var t=new Date(e);return(String(t.getDate()).length<2?"0"+String(t.getDate()):String(t.getDate()))+"-"+(String(t.getMonth()).length<2?"0"+String(t.getMonth()+1):String(t.getMonth()+1))+"-"+t.getFullYear()+" | "+(String(t.getHours()).length<2?"0"+String(t.getHours()):String(t.getHours()))+":"+(String(t.getMinutes()).length<2?"0"+String(t.getMinutes()):String(t.getMinutes()))}(h.date)})]}),(0,x.jsx)("img",{loading:"lazy",id:"mainImg",src:h&&h.img,alt:"newsImg"}),(0,x.jsxs)("div",{className:"textWrap",children:[(0,x.jsx)("p",{children:(0,x.jsx)("strong",{children:h&&h.meta_description})}),h&&k(h.content)]}),(0,x.jsxs)("div",{className:"likes",children:[(0,x.jsxs)("span",{title:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u044b",className:"views",children:["\ud83d\udc41 ",C&&C]})," ",I," ",(0,x.jsx)("span",{title:"\u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f",className:"likeNum",children:h&&(null===(e=h.likes)||void 0===e?void 0:e.split(",").length)>0?null===(t=h.likes)||void 0===t?void 0:t.split(",").length:0})]})]})}),(0,x.jsx)("i",{className:"author",children:h&&h.author})]})})]})}}}]);
//# sourceMappingURL=265.cf444d79.chunk.js.map